 <%- include('adminHeader') %>



 <body>
   <div class="screen-overlay"></div>
   <section class="content-main">
     <div class="content-header">
       <div>
         <h2 class="content-title card-title">Categories </h2>
         <p>Add, edit or delete a category</p>
       </div>
       <div>
         <input type="text" placeholder="Search Categories" class="form-control bg-white">
       </div>
     </div>
     <div class="container mt-4">
       <div class="row">
         <div class="col-md-3">
           <div class="card mb-4">
             <div class="card-body">
               <!-- <form action="/admin/addCategory" method="post">
                          <div class="mb-4">
                            <label for="product_name" class="form-label">Name</label>
                            <input type="text" name="name" placeholder="Type here" class="form-control" id="product_name" />
                          </div>
                          <div class="mb-4">
                            <label class="form-label">Description</label>
                            <textarea name="description" placeholder="Type here" class="form-control"></textarea>
                          </div>
                          <div class="d-grid">
                            <button class="btn btn-primary">Create category</button>
                          </div>
                        </form> -->
               <!-- ... Your existing HTML code ... -->

               <form action="/admin/addCategory" method="post" onsubmit="return validateForm()">
                 <div class="mb-4">
                   <label for="product_name" class="form-label">Name</label>
                   <input type="text" name="name" placeholder="Type here" class="form-control" id="product_name"
                      />
                   <span id="nameError" class="text-danger"></span>
                 </div>
                 <div class="mb-4">
                   <label class="form-label">Description</label>
                   <textarea name="description" placeholder="Type here" class="form-control" ></textarea>
                   <span id="descriptionError" class="text-danger"></span>
                 </div>
                 <div class="d-grid">
                   <button class="btn btn-primary">Create category</button>
                 </div>
               </form>

               <script>
                 function validateForm() {
                   // Reset previous error messages
                   document.getElementById('nameError').innerHTML = '';
                   document.getElementById('descriptionError').innerHTML = '';

                   // Get the input values
                   const name = document.getElementById('product_name').value;
                   const description = document.querySelector('textarea[name="description"]').value;

                   // Perform your custom validation logic
                   if (name.trim() === '') {
                     document.getElementById('nameError').innerHTML = 'Name is required';
                     return false;
                   }

                   if (description.trim() === '') {
                     document.getElementById('descriptionError').innerHTML = 'Description is required';
                     return false;
                   }

                   // If validation passes, allow the form to be submitted
                   return true;
                 }
               </script>

               <!-- ... Your existing HTML code ... -->


             </div>
           </div>
         </div>
         <div class="col-md-9">
           <div class="card">
             <div class="card-body">
               <div class="table-responsive">
                 <table class="table table-hover">
                   <thead>
                     <tr>

                       <th>Name</th>
                       <th>Description</th>
                       <th></th>
                       <th></th>
                       <th></th>
                       <th></th>
                     </tr>
                   </thead>
                   <tbody>
                     <% if (category.length > 0) { %>
                     <% category.forEach((categoryItem) => { %>
                     <tr>

                       <td><b><%= categoryItem.name %></b></td>
                       <td><%= categoryItem.description %></td>
                       <td></td>
                       <td class="text-end">
                         <ul class="list-unstyled">
                           <li>
                             <% if (categoryItem.isListed === true) { %>
                             <a href="/admin/category/block?id=<%= categoryItem._id %>">
                               <i class="ri-eye-line"></i>
                               <span style="color: rgb(39, 125, 95);">Listed</span>
                             </a>
                             <% } else { %>
                             <a href="/admin/category/unBlock?id=<%= categoryItem._id %>">
                               <i class="ri-eye-line"></i>
                               <span style="color: rgb(172, 14, 14);">Unlisted</span>
                             </a>
                             <% } %>
                           </li>
                         </ul>
                       </td>
                       <td>
                         <ul class="list-unstyled">
                           <li>
                             <a href="/admin/editCategory?id=<%= categoryItem._id %>" class="btn btn-sm btn-light">
                               <i class="fas fa-edit"></i> Edit
                             </a>
                           </li>
                         </ul>
                         
    
                       </td>
                       
                     </tr>
                     <% }); %>
                     <% } %>
                   </tbody>
                 </table>



               </div>
             </div>
           </div>
         </div>

       </div>
     </div>
     <!-- card .// -->
   </section>

   </main>



   <%- include('adminFooter') %> -->